# htaccess file version 1.8.1;
#	Rewrite rules are now handled by PHP code
# See the file "zenphoto-rewrite.txt" for the actual rules
#
# These rules redirect everything not directly accessing a file to the index.php script
#
<IfModule mod_expires.c>
	ExpiresActive On
	ExpiresByType image/jpg "access 1 week"
	ExpiresByType image/jpeg "access 1 week"
	ExpiresByType image/gif "access 1 week"
	ExpiresByType image/png "access 1 week"
	ExpiresByType application/pdf "access 1 week"
	ExpiresByType application/x-shockwave-flash "access 1 week"
	ExpiresByType image/x-icon "access 1 week"
	ExpiresByType text/css "access 3 days"
	ExpiresByType text/javascript "access 3 days"
  ExpiresDefault "access 1 hour"
</IfModule>
<IfModule mod_headers.c>
	<FilesMatch "\\.(ico|jpe?g|png|gif|swf)$">
		Header set Cache-Control "max-age=604800, public"
	</FilesMatch>
	<FilesMatch "\\.(css)$">
		Header set Cache-Control "max-age=604800, public"
	</FilesMatch>
	<FilesMatch "\\.(js)$">
		Header set Cache-Control "max-age=604800, private"
	</FilesMatch>
	<FilesMatch "\\.(x?html?|php)$">
		Header set Cache-Control "max-age=600, private, must-revalidate"
	</FilesMatch>
	Header unset ETag
	Header unset Last-Modified
</IfModule>
<IfModule mod_deflate.c>
	SetOutputFilter DEFLATE
  SetEnvIfNoCase Request_URI "\.(?:gif|jpe?g|png)$" no-gzip
</IfModule>
<IfModule mod_autoindex.c>
	IndexIgnore *
</IfModule>
<IfModule mod_rewrite.c>
  RewriteEngine On

  RewriteBase /zenphoto

  RewriteCond %{REQUEST_FILENAME} -f [OR]
  RewriteCond %{REQUEST_FILENAME} -d
  RewriteRule ^.*$ - [L]

  RewriteRule ^.*/?$                        index.php [L,QSA]

</IfModule>
